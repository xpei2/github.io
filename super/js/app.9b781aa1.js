(function(t){function e(e){for(var o,a,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);f&&f(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],o=!0,a=1;a<s.length;a++){var r=s[a];0!==i[r]&&(o=!1)}o&&(n.splice(e--,1),t=c(c.s=s[0]))}return t}var o={},a={app:0},i={app:0},n=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-1440c021":"a8c0f65e"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(t){var e=[],s={"chunk-1440c021":1};a[t]?e.push(a[t]):0!==a[t]&&s[t]&&e.push(a[t]=new Promise((function(e,s){for(var o="css/"+({}[t]||t)+"."+{"chunk-1440c021":"06500944"}[t]+".css",i=c.p+o,n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var l=n[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===i))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===o||u===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||i,n=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=o,delete a[t],f.parentNode.removeChild(f),s(n)},f.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[t]=0})));var o=i[t];if(0!==o)if(o)e.push(o[2]);else{var n=new Promise((function(e,s){o=i[t]=[e,s]}));e.push(o[2]=n);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var s=i[t];if(0!==s){if(s){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,s[1](d)}i[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(s,o,function(e){return t[e]}.bind(null,o));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/super/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"01ba":function(t,e,s){},"0299":function(t,e,s){"use strict";var o=s("48ec"),a=s.n(o);a.a},"034f":function(t,e,s){"use strict";var o=s("85ec"),a=s.n(o);a.a},"03ac":function(t,e,s){},"0afd":function(t,e,s){"use strict";var o=s("1200"),a=s.n(o);a.a},1200:function(t,e,s){},"133a":function(t,e,s){},1443:function(t,e,s){"use strict";var o=s("7d86"),a=s.n(o);a.a},"1cbf":function(t,e,s){"use strict";var o=s("3eab"),a=s.n(o);a.a},"1fa6":function(t,e,s){},"204d":function(t,e,s){},"23de":function(t,e,s){"use strict";var o=s("1fa6"),a=s.n(o);a.a},"277b":function(t,e,s){"use strict";var o=s("133a"),a=s.n(o);a.a},2872:function(t,e,s){t.exports=s.p+"img/shopcart.fbc81098.svg"},"28a8":function(t,e,s){},"2d91":function(t,e,s){},"2f90":function(t,e,s){},"33ba":function(t,e,s){"use strict";var o=s("03ac"),a=s.n(o);a.a},"37cf":function(t,e,s){"use strict";var o=s("8e37"),a=s.n(o);a.a},"3cbe":function(t,e,s){},"3ce5":function(t,e,s){t.exports=s.p+"img/cart-empty.a703f86f.jpg"},"3eab":function(t,e,s){},4668:function(t,e,s){},"48ec":function(t,e,s){},"4a94":function(t,e,s){"use strict";var o=s("2d91"),a=s.n(o);a.a},"4d14":function(t,e,s){},"4d36":function(t,e,s){t.exports=s.p+"img/phone.aa2bc9a6.svg"},"4dff":function(t,e,s){t.exports=s.p+"img/cart-empty.01e7661c.png"},"56d7":function(t,e,s){"use strict";s.r(e);var o=s("2b0e"),a=s("343b"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("keep-alive",{attrs:{exclude:"Detail,Collect"}},[s("router-view")],1),s("main-tab-bar",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.tabBarShow,expression:"$store.state.tabBarShow"}]})],1)},n=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tab-bar",[o("tab-bar-item",{attrs:{path:"/",activeColor:"blue"},scopedSlots:t._u([{key:"item-icon",fn:function(){return[o("img",{attrs:{src:s("9443"),alt:""}})]},proxy:!0},{key:"item-icon-active",fn:function(){return[o("img",{attrs:{src:s("b508"),alt:""}})]},proxy:!0},{key:"item-text",fn:function(){return[t._v("首页")]},proxy:!0}])}),o("tab-bar-item",{attrs:{path:"/category"},scopedSlots:t._u([{key:"item-icon",fn:function(){return[o("img",{attrs:{src:s("57cd"),alt:""}})]},proxy:!0},{key:"item-icon-active",fn:function(){return[o("img",{attrs:{src:s("a5ef"),alt:""}})]},proxy:!0},{key:"item-text",fn:function(){return[t._v("分类")]},proxy:!0}])}),o("tab-bar-item",{attrs:{path:"/cart",activeColor:"blue"},scopedSlots:t._u([{key:"item-icon",fn:function(){return[o("img",{attrs:{src:s("2872"),alt:""}})]},proxy:!0},{key:"item-icon-active",fn:function(){return[o("img",{attrs:{src:s("c3f8"),alt:""}})]},proxy:!0},{key:"item-text",fn:function(){return[t._v("购物车")]},proxy:!0}])}),o("tab-bar-item",{attrs:{path:"/profile",activeColor:"blue"},scopedSlots:t._u([{key:"item-icon",fn:function(){return[o("img",{attrs:{src:s("e55d"),alt:""}})]},proxy:!0},{key:"item-icon-active",fn:function(){return[o("img",{attrs:{src:s("d151"),alt:""}})]},proxy:!0},{key:"item-text",fn:function(){return[t._v("我的")]},proxy:!0}])})],1)},c=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{attrs:{id:"tab-bar"}},[t._t("default")],2)},u=[],d={name:"TabBar"},f=d,p=(s("6376"),s("2877")),m=Object(p["a"])(f,l,u,!1,null,"3427eb4e",null),h=m.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-bar-item",on:{click:t.itemClick}},[t.isActive?s("div",[t._t("item-icon-active")],2):s("div",[t._t("item-icon")],2),s("p",{style:t.activeStyle},[t._t("item-text")],2)])},b=[],v={name:"TabBarItem",props:{path:String,activeColor:{type:String,default:"#d81e06"}},computed:{isActive(){return this.$route.path===this.path},activeStyle(){return this.isActive?{color:this.activeColor}:{}}},methods:{itemClick(){this.$router.replace(this.path)}}},y=v,C=(s("b239"),Object(p["a"])(y,g,b,!1,null,"56ec6ad2",null)),k=C.exports,_={name:"MainTabBar",components:{TabBar:h,TabBarItem:k}},x=_,I=Object(p["a"])(x,r,c,!1,null,"4bc51bd5",null),S=I.exports,L={name:"App",components:{MainTabBar:S}},w=L,$=(s("034f"),Object(p["a"])(w,i,n,!1,null,null,null)),B=$.exports,T=s("8c4f"),O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[s("nav-bar",{scopedSlots:t._u([{key:"nav-center",fn:function(){return[t._v("首页")]},proxy:!0}])}),s("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isTabShow,expression:"isTabShow"}],ref:"tabControlFixed",staticClass:"home-tab-control",attrs:{titles:t.titles},on:{tabClick:t.tabClick}}),s("bscroll",{ref:"scroll",staticClass:"home-scroll",attrs:{"probe-type":3,"mouse-wheel":!0,"pull-up":!0,"listen-scroll":!0},on:{inScroll:t.contScroll,scrollEnd:t.contScrollEnd}},[s("bs-swiper",{attrs:{banners:t.homeBanners}}),s("recommend-view",{attrs:{recommends:t.recommend}}),s("feature-view"),s("tab-control",{ref:"tabControl",staticClass:"home-tab-control",attrs:{titles:t.titles},on:{tabClick:t.tabClick}}),s("goods-list",{attrs:{"goods-list":t.goods[t.curType].list}})],1),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isBackTop,expression:"isBackTop"}],nativeOn:{click:function(e){return t.backClick(e)}}})],1)},E=[],j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav-bar",style:t.navBarStyle},[s("div",{staticClass:"nav-left"},[t._t("nav-left")],2),s("div",{staticClass:"nav-center"},[t._t("nav-center")],2),s("div",{staticClass:"nav-right"},[t._t("nav-right")],2)])},P=[],A={name:"NavBar",props:{navColor:{type:String,default:"#fff"},navBgColor:{type:String,default:"var(--color-tint)"}},computed:{navBarStyle(){return{color:this.navColor,"background-color":this.navBgColor}}}},M=A,N=(s("89a1"),Object(p["a"])(M,j,P,!1,null,"3ba89978",null)),D=N.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"bsScroll",staticClass:"better-scroll"},[s("div",{staticClass:"better-content"},[t._t("default")],2)])},G=[],R=s("f40f"),W={name:"Bscroll",props:{probeType:{type:Number,default:1},bounce:{type:Boolean,default:!0},mouseWheel:{type:Boolean,default:!1},click:{type:Boolean,default:!0},listenScroll:{type:Boolean,default:!1},pullUp:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!1}},data(){return{scroll:null}},mounted(){this.$nextTick(()=>{this._initScroll()})},methods:{_initScroll(){this.scroll=new R["a"](this.$refs.bsScroll,{probeType:this.probeType,mouseWheel:this.mouseWheel,bounce:this.bounce,click:this.click}),this.listenScroll&&this.scroll.on("scroll",t=>{this.$emit("inScroll",t)}),this.pullUp&&this.scroll.on("scrollEnd",t=>{t.y<=this.scroll.maxScrollY+50&&this.$emit("scrollEnd")}),this.pulldown&&this.scroll.on("touchend",t=>{t.y>50&&this.$emit("pulldown")})},refresh(){this.scroll&&this.scroll.refresh()},scrollTo(t,e,s=300){this.scroll&&this.scroll.scrollTo(t,e,s)},scrollToElement(t,e=300){this.scroll&&this.scroll.scrollToElement(t,e)},getScrollY(){return this.scroll?this.scroll.y:0}}},H=W,z=(s("66d9"),Object(p["a"])(H,F,G,!1,null,"9d93f680",null)),J=z.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("swiper",{ref:"bsSwiper",attrs:{options:t.swiperOptions}},[t._l(t.banners,(function(e){return s("swiper-slide",{key:e.image},[s("a",{attrs:{href:e.link&&e.link}},[s("img",{attrs:{src:e.image,alt:e.title&&e.title},on:{load:t.swiperLoad}})])])})),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},U=[],q=s("7212"),V={name:"bsSwiper",props:{banners:Array,default(){return[{images:""}]}},data(){return{swiperOptions:{pagination:{el:".swiper-pagination",bulletClass:"bs-bullet",bulletActiveClass:"bs-bullet-active"},autoplay:{disableOnInteraction:!1,delay:3e3},loop:!0},isLoad:!1}},components:{Swiper:q["Swiper"],SwiperSlide:q["SwiperSlide"]},mounted(){this.$nextTick(()=>{this.swiper.slideToLoop(1)})},computed:{swiper(){return this.$refs.bsSwiper.$swiper}},methods:{swiperLoad(){this.isLoad||(this.$bus.$emit("swiperImgLoad"),this.isLoad=!0)}}},Y=V,X=(s("e1ac"),Object(p["a"])(Y,K,U,!1,null,null,null)),Q=X.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"tab-control"},t._l(t.titles,(function(e,o){return s("li",{key:o,staticClass:"tab-control-item",class:{"control-active":o===t.curIndex},on:{click:function(e){return t.tabControlActive(o)}}},[s("span",[t._v(t._s(e))])])})),0)},tt=[],et={name:"TabControl",props:{titles:Array,default(){return["流行","精选","新款"]}},data(){return{curIndex:0}},methods:{tabControlActive(t){this.curIndex!==t&&(this.curIndex=t,this.$emit("tabClick",t))}}},st=et,ot=(s("23de"),Object(p["a"])(st,Z,tt,!1,null,"1e6d7ed0",null)),at=ot.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods"},t._l(t.goodsList,(function(t,e){return s("goods-list-item",{key:e,attrs:{product:t}})})),1)},nt=[],rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods-item",on:{click:t.goodsClick}},[s("a",{staticClass:"goods-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.goodsImage,expression:"goodsImage"}],attrs:{alt:t.product.title},on:{load:t.imageLoad}})]),s("a",{staticClass:"good-info"},[s("p",{staticClass:"goods-title"},[t._v(t._s(t.product.title))]),s("p",{staticClass:"good-price-box"},[s("span",{staticClass:"goods-price"},[t._v(t._s(t._f("newPrice")(t.product.price)))]),s("van-icon",{attrs:{name:"star-o"}}),t._v(t._s(t.product.cfav)+" ")],1)])])},ct=[],lt=s("bc3a"),ut=s.n(lt),dt=s("d399"),ft=s("2f62"),pt={cartList:t=>t.cartList,cartCount:(t,e)=>e.cartList.length,collectList:t=>t.collectList,collectCount:(t,e)=>e.collectList.length};const mt="setTabBarShow",ht="setLoading",gt="setLocalCart",bt="addCartCounter",vt="addCart",yt="clearCart",Ct="setLocalCollect",kt="addCollect",_t="removeCollect",xt="clearCollect";var It={[mt](t,e){t.tabBarShow=e},[ht](t,e){t.isLoading=e},[gt](t,e){t.cartList=e},[bt](t,e){e.count++,localStorage.setItem("cartList",JSON.stringify(t.cartList))},[vt](t,e){e.count=1,e.checked=!1,t.cartList.push(e),localStorage.setItem("cartList",JSON.stringify(t.cartList))},[yt](t){console.log("删除购物车")},[Ct](t,e){t.collectList=e},[kt](t,e){e.checked=!1,t.collectList.push(e),localStorage.setItem("collectList",JSON.stringify(t.collectList))},[_t](t,e){t.collectList=t.collectList.filter(t=>t.id!==e),localStorage.setItem("collectList",JSON.stringify(t.collectList))},[xt](t){console.log("删除收藏")}},St={setCartGoods({state:t,commit:e},s){return new Promise(o=>{let a=t.cartList.find(t=>t.id===s.id);a?(e(bt,a),o({type:"text",position:"bottom",message:"当前商品数量为"+a.count})):(e(vt,s),o({type:"success",position:"middle",message:"添加购物车成功！"}))})},setCollectGoods({state:t,commit:e},s){return new Promise(o=>{let a=t.collectList.find(t=>t.id===s.id);a?(e(_t,a.id),o({icon:"cross",message:"已取消收藏"})):(e(kt,s),o({icon:"",message:"收藏成功"}))})}};o["default"].use(ft["a"]);const Lt={tabBarShow:!0,cartList:[],collectList:[],isLoading:!0};var wt=new ft["a"].Store({state:Lt,getters:pt,mutations:It,actions:St});function $t(t){const e=ut.a.create({baseURL:"http://152.136.185.210:8000/api/w6",timeout:5e3});return e.interceptors.request.use(t=>(wt.state.isLoading&&dt["a"].loading({forbidClick:!0,message:"加载中...",loadingType:"spinner"}),t),t=>Promise.reject(t)),e.interceptors.response.use(t=>(dt["a"].clear(),t.data),t=>(dt["a"].clear(),Promise.reject(t))),e(t)}function Bt(t){return $t({url:"/detail",params:{iid:t}})}function Tt(){return $t({url:"/recommend"})}class Ot{constructor(t,e,s){this.title=t.title?t.title:"",this.desc=t.desc?t.desc:"",this.newPrice=t.price?t.price:"",this.oldPrice=t.oldPrice?t.oldPrice:"",this.discount=t.discountDesc?t.discountDesc:"",this.discountBgColor=t.discountBgColor?t.discountBgColor:"",this.realPrice=t.lowNowPrice?t.lowNowPrice:"",this.columns=e||[],this.columns.pop(),this.columns.push(s[s.length-1].name),this.services=s||[],this.services.pop()}}class Et{constructor(t){this.name=t.name?t.name:"",this.logo=t.shopLogo?t.shopLogo:"",this.url=t.shopUrl?t.shopUrl:"",this.fans=t.cFans?t.cFans:"",this.score=t.score?t.score:[],this.sells=t.cSells?t.cSells:"",this.shopId=t.shopId?t.shopId:"",this.goodsCount=t.cGoods?t.cGoods:0}}class jt{constructor(t,e){this.title=t.key?t.key:"",this.image=t.images?t.images[0]:"",this.infos=t.set?t.set:[],this.sizes=t.images?e.tables:[]}}var Pt=s("ad06"),At={name:"GoodListItem",components:{[Pt["a"].name]:Pt["a"]},props:{product:{type:Object,default(){return{}}}},computed:{goodsImage(){return this.product.img||this.product.image||this.product.show.img}},methods:{imageLoad(){this.$bus.$emit("itemImageLoad")},goodsClick(){this.$store.commit("setLoading",!1),Bt(this.product.iid).then(()=>{this.$store.commit("setLoading",!0),this.$router.push("/detail/"+this.product.iid)}).catch(()=>{this.$toast({type:"success",icon:"fail",message:"商品已下架！",forbidClick:!0,duration:1500})})}},filters:{newPrice(t){return"￥"+t}}},Mt=At,Nt=(s("935c"),Object(p["a"])(Mt,rt,ct,!1,null,"6bec1b3e",null)),Dt=Nt.exports,Ft={name:"GoodList",props:{goodsList:Array},components:{GoodsListItem:Dt}},Gt=Ft,Rt=(s("7032"),Object(p["a"])(Gt,it,nt,!1,null,"553e40b5",null)),Wt=Rt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"recommend"},t._l(t.recommends,(function(e){return s("li",{key:e.sort,staticClass:"recommend-item"},[s("a",{attrs:{href:e.link}},[s("img",{attrs:{src:e.image,alt:""}}),s("p",[t._v(t._s(e.title))])])])})),0)},zt=[],Jt={name:"RecommendView",props:{recommends:Array}},Kt=Jt,Ut=(s("e4ad"),Object(p["a"])(Kt,Ht,zt,!1,null,"dbbbe452",null)),qt=Ut.exports,Vt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Yt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"feature"},[o("a",{attrs:{href:"#"}},[o("img",{attrs:{src:s("5cbe"),alt:""}})])])}],Xt={name:"FeatureView"},Qt=Xt,Zt=(s("277b"),Object(p["a"])(Qt,Vt,Yt,!1,null,"234f520e",null)),te=Zt.exports;function ee(){return $t({url:"/home/multidata"})}function se(t,e){return $t({url:"/home/data",params:{type:t,page:e}})}function oe(t,e){let s=null;return function(...o){s&&clearTimeout(s),s=setTimeout(()=>{t.apply(this,o)},e)}}function ae(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));let s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(let o in s)if(new RegExp(`(${o})`).test(e)){let t=s[o]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?t:ie(t))}return e}function ie(t){return("00"+t).substr(t.length)}const ne={data(){return{goodstImgListener:null}},mounted(){const t=oe(this.$refs.scroll.refresh,50);this.goodstImgListener=()=>t(),this.$bus.$on("itemImageLoad",this.goodstImgListener)}},re={data(){return{swiperImgListener:null}},mounted(){this.$bus.$on("swiperImgLoad",this.swiperImgListener)}},ce={data(){return{curPosition:0}},components:{BackTop:()=>s.e("chunk-1440c021").then(s.bind(null,"26f5"))},computed:{isBackTop(){return this.curPosition>=1500}},methods:{backClick(){this.$refs.scroll.scrollTo(0,0)}}},le={methods:{backClick(){this.$router.back()}}},ue={data(){return{isCheckbox:!1}},computed:{simpleManageStyle(){return this.isCheckbox?{color:"#ffeb00",text:"完成"}:{color:"#fff",text:"管理"}}},methods:{simpleManage(){this.isCheckbox=!this.isCheckbox}}};var de={name:"Home",components:{NavBar:D,Bscroll:J,BsSwiper:Q,TabControl:at,GoodsList:Wt,RecommendView:qt,FeatureView:te},data(){return{homeBanners:[],recommend:[],keywords:[],titles:["流行","精选","新款"],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},curType:"pop",tabOffsetTop:0}},mixins:[ne,re,ce],created(){this.getHomeMultidata(),this.getHomeGoods("pop"),this.getHomeGoods("new"),this.getHomeGoods("sell")},beforeMount(){this.swiperImgListener=()=>{this.tabOffsetTop=this.$refs.tabControl.$el.offsetTop}},activated(){this.$refs.scroll.refresh()},deactivated(){this.$bus.$off("swiperImgLoad",this.swiperImgListener),this.$bus.$off("itemImageLoad",this.goodstImgListener)},computed:{isTabShow(){return this.curPosition>this.tabOffsetTop}},methods:{contScroll(t){this.curPosition=t?-t.y:0},tabClick(t){switch(t){case 0:this.curType="pop";break;case 1:this.curType="new";break;case 2:this.curType="sell";break}this.$refs.tabControlFixed.curIndex=t,this.$refs.tabControl.curIndex=t,this.$refs.scroll.scrollTo(0,-this.tabOffsetTop,50)},contScrollEnd(){this.getHomeGoods(this.curType)},getHomeMultidata(){ee().then(t=>{this.homeBanners=t.data.banner.list,this.recommend=t.data.recommend.list,this.keywords=t.data.keywords.list})},getHomeGoods(t){const e=this.goods[t].page+1;se(t,e).then(e=>{this.goods[t].list.push(...e.data.list),this.goods[t].page+=1})}}},fe=de,pe=(s("0afd"),Object(p["a"])(fe,O,E,!1,null,"bb7833a8",null)),me=pe.exports,he=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"category"}},[s("nav-bar",{scopedSlots:t._u([{key:"nav-center",fn:function(){return[t._v("商品分类")]},proxy:!0}])}),s("div",{staticClass:"category-cont slide-bar"},[s("bscroll",{ref:"slideScroll",staticClass:"category-scroll",attrs:{"probe-type":2,"mouse-wheel":!0}},[s("cate-slide-bar",{attrs:{"slide-bar-list":t.CategoryList},on:{slideItemClick:t.slideItemClick,slideLoad:t.slideLoad}})],1)],1),s("div",{staticClass:"category-cont sub-category"},[s("bscroll",{ref:"scroll",staticClass:"category-scroll",attrs:{"probe-type":2,"mouse-wheel":!0}},[s("sub-category",{attrs:{"category-list":t.subCategoryList}}),s("tab-control",{ref:"tabControl",staticClass:"category-control",attrs:{titles:t.titles},on:{tabClick:t.tabClick}}),s("goods-list",{attrs:{"goods-list":t.categoryDetailList}})],1)],1)],1)},ge=[],be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-sidebar",{ref:"vanSlider",model:{value:t.curIndex,callback:function(e){t.curIndex=e},expression:"curIndex"}},[s("span",{staticClass:"slidebar-active",style:t.slideActive}),t._l(t.slideBarList,(function(e,o){return s("van-sidebar-item",{key:e.maitKey,attrs:{title:e.title},on:{click:function(s){return t.slideItemClick(e.maitKey,e.miniWallkey,o)}}})}))],2)},ve=[],ye=s("1d36"),Ce=s("241e"),ke={name:"CateSlideBar",components:{[ye["a"].name]:ye["a"],[Ce["a"].name]:Ce["a"]},props:{slideBarList:{type:Array,default(){return[]}}},data(){return{curIndex:0,slideItemHeight:0}},watch:{slideBarList(){this.$nextTick(()=>{this.slideItemHeight=this.$refs.vanSlider.$el.clientHeight/this.slideBarList.length,this.$emit("slideLoad")})}},computed:{slideActive(){return{top:this.curIndex*this.slideItemHeight+"px"}}},methods:{slideItemClick(t,e,s){const o={maitKey:t,miniWallkey:e,index:s};this.$emit("slideItemClick",o)}}},_e=ke,xe=(s("fece"),Object(p["a"])(_e,be,ve,!1,null,"e76f89d4",null)),Ie=xe.exports,Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"sub-category-list"},t._l(t.categoryList,(function(e,o){return s("li",{key:o,staticClass:"sub-category-item"},[s("a",{attrs:{href:e.link}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}],attrs:{alt:e.title}}),s("p",[t._v(t._s(e.title))])])])})),0)},Le=[],we={name:"SubCategory",props:{categoryList:{type:Array,default(){return[]}}}},$e=we,Be=(s("f0d2"),Object(p["a"])($e,Se,Le,!1,null,"65c5657c",null)),Te=Be.exports;function Oe(){return $t({url:"/category"})}function Ee(t){return $t({url:"/subcategory",params:{maitKey:t}})}function je(t,e){return $t({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var Pe={name:"Category",components:{NavBar:D,Bscroll:J,TabControl:at,GoodsList:Wt,CateSlideBar:Ie,SubCategory:Te},data(){return{CategoryList:[],subCategoryList:[],categoryDetailList:[],titles:["流行","新款","精选"],slideMiniWallkey:""}},mixins:[ne],beforeCreate(){this.$store.commit("setLoading",!1)},created(){this.getCategory()},deactivated(){this.$bus.$off("itemImageLoad",this.goodstImgListener)},methods:{slideLoad(){this.$refs.slideScroll.refresh()},slideItemClick(t){this.slideMiniWallkey!==t.miniWallkey&&(this.getSubCategory(t.maitKey),this.getCategoryDetail(t.miniWallkey,"pop"),this.slideMiniWallkey=t.miniWallkey,this.$nextTick(()=>{this.$refs.scroll.scrollTo(0,0,50)}))},tabClick(t){let e=["pop","new","sell"];this.getCategoryDetail(this.slideMiniWallkey,e[t])},getCategory(){Oe().then(t=>{this.CategoryList=t.data.category.list,this.slideMiniWallkey=t.data.category.list[0].miniWallkey,this.$nextTick(()=>{this.getSubCategory(this.CategoryList[0].maitKey),this.getCategoryDetail(this.slideMiniWallkey,"pop"),this.$store.commit("setLoading",!0)})})},getSubCategory(t){Ee(t).then(t=>{this.subCategoryList=t.data.list})},getCategoryDetail(t,e){je(t,e).then(t=>{this.categoryDetailList=t})}}},Ae=Pe,Me=(s("b419"),Object(p["a"])(Ae,he,ge,!1,null,"4f9bc4c2",null)),Ne=Me.exports,De=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"cart"}},[o("nav-bar",{class:{"cart-empty-nav":t.cartEmpty},scopedSlots:t._u([t.cartEmpty?{key:"nav-left",fn:function(){return[o("strong",[t._v(" 购物车("+t._s(t.cartCount)+") ")]),o("div",{staticClass:"cart-empty-img"},[o("img",{attrs:{src:s("3ce5"),alt:""}})])]},proxy:!0}:{key:"nav-center",fn:function(){return[t._v("购物车("+t._s(t.cartCount)+")")]},proxy:!0},{key:"nav-right",fn:function(){return[t.cartEmpty?t._e():o("span",{style:{color:t.simpleManageStyle.color},on:{click:t.simpleManage}},[t._v(t._s(t.simpleManageStyle.text))])]},proxy:!0}],null,!0)}),t.cartEmpty?o("simple-empty",{attrs:{"empty-title":"购物车竟然是空的","empty-msg":"再忙，也要记得买点什么犒劳自己吧~"}}):o("div",{staticClass:"cart-container"},[o("simple-list",{staticClass:"cart-list",attrs:{"checked-color":"#ff4500","simple-list":t.cartList}}),o("cart-bottom-bar",{attrs:{"checked-color":"#ff4500","checked-all":t.checkedAll}})],1)],1)},Fe=[],Ge=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"simple-empty"},[o("img",{attrs:{margintop:"",src:s("4dff"),alt:""}}),o("h3",{attrs:{margintop:""}},[t._v(t._s(t.emptyTitle))]),o("p",{attrs:{margintop:""}},[t._v(t._s(t.emptyMsg))]),o("van-button",{attrs:{margintop:"",type:"primary",plain:"",color:"var(--color-text)",to:t.emptyRout}},[t._v(t._s(t.emptyButtonTxt))])],1)},Re=[],We=s("b650"),He={name:"SimpleEmpty",props:{emptyTitle:{type:String,default:"列表是空的！"},emptyMsg:{type:String,default:"列表是空的，先去逛逛吧~"},emptyRout:{type:String,default:"home"},emptyButtonTxt:{type:String,default:"去逛逛"}},components:{[We["a"].name]:We["a"]}},ze=He,Je=(s("ea16"),Object(p["a"])(ze,Ge,Re,!1,null,"81686076",null)),Ke=Je.exports,Ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("bscroll",{ref:"scroll",attrs:{"probe-type":2,"mouse-wheel":!0,bounce:!1}},t._l(t.simpleList,(function(e){return s("simple-list-item",{key:e.id,attrs:{product:e,"is-checkbox":t.isCheckbox,"checked-color":t.checkedColor,"is-foot-btn":t.isFootBtn,"btn-text":t.btnText}})})),1)},qe=[],Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-item"},[s("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.isCheckbox,expression:"isCheckbox"}],attrs:{"checked-color":t.checkedColor},model:{value:t.product.checked,callback:function(e){t.$set(t.product,"checked",e)},expression:"product.checked"}}),s("van-card",{attrs:{num:t.product.count,price:t.product.price,desc:t.product.collect||t.product.desc,title:t.product.title,thumb:t.product.image},scopedSlots:t._u([t.isFootBtn?{key:"footer",fn:function(){return[s("van-button",{attrs:{size:"mini",plain:"",round:"",color:"#c8c9cc",to:"category"}},[t._v(t._s(t.btnText))])]},proxy:!0}:null],null,!0)})],1)},Ye=[],Xe=s("417e"),Qe=s("66fd"),Ze={name:"SimpleListItem",props:{product:{type:Object,default(){return{}}},isCheckbox:Boolean,checkedColor:String,isFootBtn:Boolean,btnText:String},components:{[Xe["a"].name]:Xe["a"],[Qe["a"].name]:Qe["a"],[We["a"].name]:We["a"]}},ts=Ze,es=(s("c8db"),Object(p["a"])(ts,Ve,Ye,!1,null,"7b43eb73",null)),ss=es.exports,os={name:"SimpleList",props:{isCheckbox:{type:Boolean,default:!0},checkedColor:{type:String,default:"#ff4500"},isFootBtn:{type:Boolean,default:!1},btnText:{type:String,default:"找相似"},simpleList:{type:Array,default(){return[]}}},components:{Bscroll:J,SimpleListItem:ss},activated(){this.$refs.scroll.refresh()}},as=os,is=Object(p["a"])(as,Ue,qe,!1,null,"feebe156",null),ns=is.exports,rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-submit-bar",{class:{opacity:0===t.checkedCount},attrs:{price:t.totalPrice,"button-text":t.submitBtn,"button-color":t.checkedColor,"text-align":"left"},on:{submit:t.onSubmit}},[s("div",{on:{click:t.checkedAllClick}},[s("van-checkbox",{attrs:{"checked-color":t.checkedColor},model:{value:t.checkedAll,callback:function(e){t.checkedAll=e},expression:"checkedAll"}},[t._v("全选")])],1)])},cs=[],ls=s("efa0"),us={name:"CartBottomBar",props:{checkedColor:String,checkedAll:Boolean},components:{[ls["a"].name]:ls["a"],[Xe["a"].name]:Xe["a"]},methods:{checkedAllClick(){this.cartList.forEach(t=>t.checked=!this.checkedAll)},onSubmit(){0===this.checkedCount?this.$toast({type:"fail",message:"您还未选中宝贝哦！",forbidClick:!0,duration:1500}):this.$toast({type:"fail",message:"暂未开通\n此功能",forbidClick:!0,duration:1500})}},computed:{...Object(ft["c"])(["cartList"]),checkedCount(){return this.cartList.filter(t=>t.checked).length},totalPrice(){return 100*this.cartList.filter(t=>t.checked).reduce((t,e)=>t+e.price*e.count,0)},submitBtn(){return`结算(${this.checkedCount})`}}},ds=us,fs=(s("8421"),Object(p["a"])(ds,rs,cs,!1,null,"6f5c5b28",null)),ps=fs.exports,ms={name:"Cart",components:{NavBar:D,SimpleEmpty:Ke,SimpleList:ns,CartBottomBar:ps},computed:{...Object(ft["c"])(["cartCount","cartList"]),checkedAll(){return 0!==this.cartList.length&&!this.cartList.find(t=>!t.checked)},cartEmpty(){return 0===this.cartCount}},mixins:[ue],methods:{...Object(ft["d"])(["setLocalCart"])},created(){let t=JSON.parse(localStorage.getItem("cartList"));t&&this.setLocalCart(t)}},hs=ms,gs=(s("952a"),Object(p["a"])(hs,De,Fe,!1,null,"56b81d52",null)),bs=gs.exports,vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"profile"}},[s("nav-bar",{scopedSlots:t._u([{key:"nav-center",fn:function(){return[t._v("流浪狗商城")]},proxy:!0}])}),s("profile-info"),s("finance",[s("finance-item",{attrs:{num:"0.00",company:"元","is-link":""}}),s("finance-item",{attrs:{num:"0",title:"我的优惠","is-link":""}}),s("finance-item",{attrs:{company:"分",title:"我的积分","is-link":""}})],1),s("profile-cell")],1)},ys=[],Cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"finance"},[t._t("default")],2)},ks=[],_s={name:"Finance"},xs=_s,Is=(s("b91e"),Object(p["a"])(xs,Cs,ks,!1,null,"4bfd4a58",null)),Ss=Is.exports,Ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"finance-item",class:{"finance-item-active":t.isLink},on:{click:t.notClick}},[s("p",[s("span",{staticClass:"finance-num"},[t._v(t._s(t.num))]),s("span",[t._v(t._s(t.company))])]),s("p",{staticClass:"finance-title"},[t._v(t._s(t.title))])])},ws=[],$s={name:"FinanceItem",props:{num:{type:String,default:"0"},company:{type:String,default:"个"},title:{type:String,default:"我的余额"},isLink:{type:Boolean,default:!1}},methods:{notClick(){this.$toast({type:"success",message:"暂未开通\n此功能",icon:"fail",forbidClick:!0,duration:1500})}}},Bs=$s,Ts=(s("ccfe"),Object(p["a"])(Bs,Ls,ws,!1,null,"22eb8b4e",null)),Os=Ts.exports,Es=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"profile-info"},[o("div",{staticClass:"info-photo",on:{click:t.notClick}},[o("img",{attrs:{src:t.profileInfo.photo,alt:""}})]),o("van-cell",{attrs:{center:"",title:t.profileInfo.name,"is-link":"",label:t.profileInfo.desc,size:"large"},on:{click:t.notClick},scopedSlots:t._u([{key:"label",fn:function(){return[o("img",{staticClass:"info-desc-icon",attrs:{src:s("4d36"),alt:""}}),t._v(t._s(t.profileInfo.desc)+" ")]},proxy:!0}])})],1)},js=[],Ps=s("7744"),As={name:"ProfileInfo",components:{[Pt["a"].name]:Pt["a"],[Ps["a"].name]:Ps["a"]},props:{profileInfo:{type:Object,default(){return{photo:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1602245814617&di=b47eabc9be311d3f25cc9bb4bf8a0540&imgtype=0&src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F202004%2F10%2F20200410180317_ujnix.thumb.400_0.jpeg",name:"登录/注册",desc:"暂未绑定手机号"}}}},methods:{notClick(){this.$toast({type:"fail",message:"暂未开通\n此功能",forbidClick:!0,duration:1500})}}},Ms=As,Ns=(s("f5da"),Object(p["a"])(Ms,Es,js,!1,null,"1488085e",null)),Ds=Ns.exports,Fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"profile-cell"},[s("li",{staticClass:"profile-cell-item"},[s("van-cell",{attrs:{title:"我的消息",icon:"chat-o","is-link":""},on:{click:t.notClick}}),s("van-cell",{attrs:{title:"我的收藏",icon:"star-o","is-link":"",to:"collect"}}),s("van-cell",{attrs:{title:"收货地址",icon:"location-o","is-link":""},on:{click:t.notClick}}),s("van-cell",{attrs:{title:"购物车",icon:"cart-o","is-link":"",to:"cart"}}),s("van-cell",{attrs:{title:"会员卡",icon:"vip-card-o","is-link":""},on:{click:t.notClick}})],1),s("li",{staticClass:"profile-cell-item"},[s("van-cell",{attrs:{title:"积分商城",icon:"shopping-cart-o","is-link":""},on:{click:t.notClick}}),s("van-cell",{attrs:{title:"关于我们",icon:"friends-o","is-link":""},on:{click:t.notClick}})],1)])},Gs=[],Rs={name:"ProfileCell",components:{[Ps["a"].name]:Ps["a"]},methods:{notClick(){this.$toast({type:"fail",message:"暂未开通\n此功能",forbidClick:!0,duration:1500})}}},Ws=Rs,Hs=(s("9b1f"),Object(p["a"])(Ws,Fs,Gs,!1,null,"256d576a",null)),zs=Hs.exports,Js={name:"Profile",components:{NavBar:D,Finance:Ss,FinanceItem:Os,ProfileInfo:Ds,ProfileCell:zs}},Ks=Js,Us=Object(p["a"])(Ks,vs,ys,!1,null,null,null),qs=Us.exports,Vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"detail"}},[s("detail-nav-bar",{ref:"detailNavbar",on:{titleClick:t.titleClick}}),s("bscroll",{ref:"scroll",staticClass:"detail-scroll",attrs:{"probe-type":3,"mouse-wheel":!0,"pull-up":!0,"listen-scroll":!0},on:{inScroll:t.contScroll}},[s("bs-swiper",{staticClass:"detail-swiper set-scroll",attrs:{banners:t.detailBanners}}),s("detail-base-info",{attrs:{"base-info":t.baseInfo}}),s("detail-shop-info",{attrs:{"shop-info":t.shopInfo}}),s("detail-goods-info",{attrs:{"goods-info":t.goodsInfo},on:{imgLoad:t.goodsImgLoad}}),s("detail-param-info",{ref:"setParams",staticClass:"set-scroll",attrs:{"params-info":t.paramsInfo}}),s("detail-rate-info",{ref:"setRate",staticClass:"set-scroll",attrs:{"rate-info":t.rateInfo}}),s("goods-list",{ref:"setRecommend",staticClass:"detail-goods set-scroll",attrs:{"goods-list":t.recommendInfo}}),s("p",{staticClass:"detail-msg"},[t._v("没有更多了")])],1),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isBackTop,expression:"isBackTop"}],nativeOn:{click:function(e){return t.backClick(e)}}}),s("detail-bottom-bar",{attrs:{"goods-id":t.goodsId},on:{addToCart:t.addToCart,collectClick:t.collectClick}})],1)},Ys=[],Xs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav-bar",{attrs:{"nav-color":"","nav-bg-color":"#fff"},scopedSlots:t._u([{key:"nav-left",fn:function(){return[s("van-icon",{attrs:{name:"arrow-left"},on:{click:t.backClick}})]},proxy:!0},{key:"nav-center",fn:function(){return t._l(t.titles,(function(e,o){return s("span",{key:o,staticClass:"title-item",class:{"title-active":t.currentIndex===o},on:{click:function(e){return t.titleClick(o)}}},[t._v(t._s(e))])}))},proxy:!0}])})},Qs=[],Zs={name:"DetailNavBar",data(){return{titles:["商品","参数","评论","推荐"],currentIndex:0}},components:{NavBar:D,[Pt["a"].name]:Pt["a"]},mixins:[le],methods:{titleClick(t){this.currentIndex=t,this.$emit("titleClick",t)}}},to=Zs,eo=(s("4a94"),Object(p["a"])(to,Xs,Qs,!1,null,"59c99be4",null)),so=eo.exports,oo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.baseInfo).length?s("div",[s("div",{staticClass:"info-cont info-top"},[s("div",{staticClass:"info-title"},[t._v(t._s(t.baseInfo.title))]),s("div",{staticClass:"info-price"},[s("span",{staticClass:"new-price"},[t._v(t._s(t.baseInfo.newPrice))]),s("span",{staticClass:"old-price"},[t._v(t._s(t.baseInfo.oldPrice))]),t.baseInfo.discount?s("span",{staticClass:"discount",style:t.discountBgColor},[t._v(t._s(t.baseInfo.discount))]):t._e()])]),s("div",{staticClass:"info-cont info-other"},t._l(t.baseInfo.columns,(function(e){return s("span",{key:e},[t._v(t._s(e))])})),0),s("div",{staticClass:"info-cont info-service"},t._l(t.baseInfo.services,(function(e){return s("span",{key:e.name,staticClass:"info-service-item"},[e.icon?s("img",{attrs:{src:e.icon,alt:""}}):t._e(),s("span",[t._v(t._s(e.name))])])})),0)]):t._e()},ao=[],io={name:"DetailBaseInfo",props:{baseInfo:{type:Object,default(){return{}}}},computed:{discountBgColor(){return{"background-color":this.baseInfo.discountBgColor?this.baseInfo.discountBgColor:"#ff5777"}}}},no=io,ro=(s("86ac"),Object(p["a"])(no,oo,ao,!1,null,"3f5fbd3e",null)),co=ro.exports,lo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-info"},[s("div",{staticClass:"shop-top",on:{click:t.notClick}},[s("img",{attrs:{src:t.shopInfo.logo,alt:""}}),s("span",{staticClass:"shop-name"},[t._v(t._s(t.shopInfo.name))])]),s("div",{staticClass:"shop-middle"},[s("div",{staticClass:"shop-middle-item shop-middle-lf"},[s("div",{staticClass:"info-sells"},[s("div",{staticClass:"sells-count"},[t._v(" "+t._s(t._f("sellCountFilter")(t.shopInfo.sells))+" ")]),s("div",{staticClass:"sells-text"},[t._v("总销量")])]),s("div",{staticClass:"info-goods"},[s("div",{staticClass:"goods-count"},[t._v(t._s(t.shopInfo.goodsCount))]),s("div",{staticClass:"goods-text"},[t._v("全部宝贝")])])]),s("div",{staticClass:"shop-middle-item shop-middle-rh"},[s("table",t._l(t.shopInfo.score,(function(e,o){return s("tr",{key:o},[s("td",[t._v(t._s(e.name))]),s("td",{staticClass:"score",class:{"score-better":e.isBetter}},[t._v(" "+t._s(e.score)+" ")]),s("td",{staticClass:"better",class:{"better-more":e.isBetter}},[s("span",[t._v(t._s(e.isBetter?"高":"低"))])])])})),0)])]),s("div",{staticClass:"shop-bottom"},[s("div",{staticClass:"enter-shop",on:{click:t.notClick}},[t._v("进店逛逛")])])])},uo=[],fo={name:"DetailShopInfo",props:{shopInfo:{type:Object,default(){return{}}}},filters:{sellCountFilter(t){return t<1e4?t:(t/1e4).toFixed(1)+"万"}},methods:{notClick(){this.$toast({type:"fail",message:"暂未开通\n此功能",forbidClick:!0,duration:1500})}}},po=fo,mo=(s("37cf"),Object(p["a"])(po,lo,uo,!1,null,"7a357fa6",null)),ho=mo.exports,go=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.goodsInfo).length?s("div",[t._m(0),s("div",{staticClass:"goods-desc clear-fix"},[s("span",{staticClass:"desc-border desc-border-t"}),s("p",{staticClass:"desc-txt"},[t._v(t._s(t.goodsInfo.desc))]),s("span",{staticClass:"desc-border desc-border-b"})]),s("ul",{staticClass:"goods-image"},t._l(t.goodsInfo.detailImage,(function(e){return s("li",{key:e.key,staticClass:"goods-image-item"},[s("h3",{staticClass:"base-info-msg"},[s("span",[t._v(t._s(e.key))])]),s("div",{staticClass:"goods-image-desc"},[t._v(t._s(e.desc))]),s("div",{staticClass:"goods-image-list"},t._l(e.list,(function(e){return s("img",{key:e,attrs:{src:e,alt:""},on:{load:t.goodsImgLoad}})})),0)])})),0)]):t._e()},bo=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-msg"},[s("span",[t._v("详情")])])}],vo={name:"DetailGoodsInfo",props:{goodsInfo:{type:Object,default(){return{}}}},data(){return{counter:0,imagesLength:0}},methods:{goodsImgLoad(){++this.counter===this.imagesLength&&this.$emit("imgLoad")}},watch:{goodsInfo(){this.goodsInfo.detailImage.forEach(t=>{this.imagesLength+=t.list?t.list.length:0})}}},yo=vo,Co=(s("8556"),Object(p["a"])(yo,go,bo,!1,null,"7e2136b0",null)),ko=Co.exports,_o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.paramsInfo).length?s("div",{staticClass:"param-info"},[s("h3",{staticClass:"base-info-msg"},[s("span",[t._v(t._s(t.paramsInfo.title))])]),t._l(t.paramsInfo.sizes,(function(e,o){return s("table",{key:o,staticClass:"info-size"},t._l(e,(function(e,o){return s("tr",{key:o},t._l(e,(function(e,o){return s("td",{key:o},[t._v(" "+t._s(e)+" ")])})),0)})),0)})),s("table",{staticClass:"info-param"},t._l(t.paramsInfo.infos,(function(e,o){return s("tr",{key:o},[s("td",{staticClass:"info-param-key"},[t._v(t._s(e.key))]),s("td",{staticClass:"info-param-value"},[t._v(t._s(e.value))])])})),0),0!==t.paramsInfo.image.length?s("div",{staticClass:"info-img"},[s("img",{attrs:{src:t.paramsInfo.image,alt:""}})]):t._e()],2):t._e()},xo=[],Io={name:"DetailParamInfo",props:{paramsInfo:{type:Object,default(){return{}}}}},So=Io,Lo=(s("8256"),Object(p["a"])(So,_o,xo,!1,null,"5c742e34",null)),wo=Lo.exports,$o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.rateInfo).length?s("div",{staticClass:"rate-info"},[s("div",{staticClass:"rate-header"},[s("span",{staticClass:"rate-title"},[t._v("用户评价")]),s("span",{staticClass:"rate-more",on:{click:t.moreRateClick}},[t._v("更多")]),s("span",{staticClass:"base-msg",class:{"base-msg-show":t.isShowMsg}},[t._v("暂无更多")])]),s("div",{staticClass:"rate-user"},[s("img",{attrs:{src:t.rateInfo.user.avatar,alt:""}}),s("span",[t._v(t._s(t.rateInfo.user.uname))])]),s("div",{staticClass:"rate-content"},[s("p",[t._v(t._s(t.rateInfo.content))]),s("div",{staticClass:"rate-goods-info"},[s("span",[t._v(t._s(t._f("rateDate")(t.rateInfo.created)))]),s("span",[t._v(t._s(t.rateInfo.style))])])]),t.rateInfo.images?s("div",{staticClass:"rate-images"},t._l(t.rateInfo.images,(function(t,e){return s("img",{key:e,attrs:{src:t,alt:""}})})),0):t._e()]):t._e()},Bo=[],To={name:"DetailRateInfo",props:{rateInfo:{type:Object,default(){return{}}}},data(){return{isLoadRateImg:!1,isShowMsg:!1}},methods:{moreRateClick(){this.isShowMsg=!0;let t=setTimeout(()=>{this.isShowMsg=!1,clearTimeout(t)},2e3)}},filters:{rateDate(t){const e=new Date(1e3*t);return ae(e,"yyyy-MM-dd")}}},Oo=To,Eo=(s("33ba"),Object(p["a"])(Oo,$o,Bo,!1,null,"1c4947ad",null)),jo=Eo.exports,Po=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-goods-action",{staticClass:"detail-bottom-bar"},[s("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服",dot:"",color:"#07c160"},on:{click:t.serviceClick}}),s("van-goods-action-icon",{attrs:{icon:"cart-o",text:"购物车",badge:t.cartCount},on:{click:t.shopClick}}),s("van-goods-action-icon",{attrs:{icon:t.collectIs.icon,text:t.collectIs.text,color:t.collectIs.color},on:{click:t.collectClick}}),s("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},on:{click:t.addToCart}}),s("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},on:{click:t.buyClick}})],1)},Ao=[],Mo=s("bb33"),No=s("7713"),Do=s("82a8"),Fo={name:"DetailBottomBar",props:{goodsId:String},data(){return{isCollect:!1}},components:{[Mo["a"].name]:Mo["a"],[No["a"].name]:No["a"],[Do["a"].name]:Do["a"]},created(){let t=JSON.parse(localStorage.getItem("cartList"));t&&this.$store.commit("setLocalCart",t);let e=JSON.parse(localStorage.getItem("collectList"));e&&(this.$store.commit("setLocalCollect",e),this.isCollect=e.find(t=>t.id===this.goodsId))},methods:{serviceClick(){this.$toast("暂无客服")},shopClick(){this.$router.push("/cart")},collectClick(){this.isCollect=!this.isCollect,this.$emit("collectClick")},addToCart(){this.$emit("addToCart")},buyClick(){this.$router.push("/cart")}},computed:{collectIs(){return this.isCollect?{text:"已收藏",color:"#ff5000",icon:"star"}:{text:"收藏",color:"",icon:"star-o"}},cartCount(){return 0!==this.$store.getters.cartCount?this.$store.getters.cartCount:""}}},Go=Fo,Ro=(s("1cbf"),Object(p["a"])(Go,Po,Ao,!1,null,"cb92c462",null)),Wo=Ro.exports,Ho={name:"Detail",components:{Bscroll:J,BsSwiper:Q,GoodsList:Wt,DetailNavBar:so,DetailBaseInfo:co,DetailShopInfo:ho,DetailGoodsInfo:ko,DetailParamInfo:wo,DetailRateInfo:jo,DetailBottomBar:Wo},data(){return{goodsId:null,detailBanners:[],baseInfo:{},shopInfo:{},goodsInfo:{},paramsInfo:{},rateInfo:{},recommendInfo:[],setScrollTop:[],navIndex:0}},mixins:[ne,re,ce],beforeCreate(){this.$store.commit("setTabBarShow",!1)},created(){this.goodsId=this.$route.params.id,this.getDetailGoods(),this.getRecommend()},beforeMount(){this.swiperImgListener=()=>this.$refs.scroll.refresh()},beforeRouteLeave(t,e,s){this.$store.commit("setTabBarShow",!0),s()},destroyed(){this.$bus.$off("swiperImgLoad",this.swiperImgListener),this.$bus.$off("itemImageLoad",this.goodstImgListener)},methods:{...Object(ft["b"])(["setCartGoods","setCollectGoods"]),goodsImgLoad(){this.$refs.scroll.refresh(),this.getScrollTop()},getScrollTop(){this.setScrollTop=[],Array.from(document.querySelectorAll(".set-scroll")).forEach(t=>{this.setScrollTop.push(t.offsetTop)}),this.setScrollTop.push(Number.MAX_VALUE)},titleClick(t){this.$refs.scroll.scrollTo(0,-this.setScrollTop[t],200)},contScroll(t){this.curPosition=t?-t.y:0;for(let e of this.setScrollTop.keys())this.navIndex!==e&&this.curPosition>=this.setScrollTop[e]&&this.curPosition<this.setScrollTop[e+1]&&(this.navIndex=e,this.$refs.detailNavbar.currentIndex=e)},addToCart(){const t={image:this.detailBanners[0].image,title:this.baseInfo.title,desc:this.baseInfo.desc,price:this.baseInfo.realPrice,id:this.goodsId};this.setCartGoods(t).then(t=>{this.$toast({type:t.type,position:t.position,message:t.message,forbidClick:!0,duration:1500})}).catch(t=>t)},collectClick(){let t=parseInt(this.baseInfo.columns[1].match(/\d+/)[0]);const e={id:this.goodsId,image:this.detailBanners[0].image,desc:this.baseInfo.desc,price:this.baseInfo.realPrice,title:this.baseInfo.title,collect:t>=1e4?Math.floor(t/1e4)+"万+人收藏":t>=1e3&&t<1e4?Math.floor(t/1e3)+"000+人收藏":t+"人收藏"};this.setCollectGoods(e).then(t=>{this.$toast({type:"success",icon:t.icon,message:t.message,forbidClick:!0,duration:1500})}).catch(t=>t)},getDetailGoods(){Bt(this.goodsId).then(t=>{const e=t.result;this.detailBanners=e.itemInfo.topImages.map(t=>{let e={};return e.image=t,e}),this.baseInfo=new Ot(e.itemInfo,e.columns,e.shopInfo.services),this.shopInfo=new Et(e.shopInfo),this.goodsInfo=e.detailInfo,this.paramsInfo=new jt(e.itemParams.info,e.itemParams.rule),this.rateInfo=0===e.rate.cRate?{}:e.rate.list[0]})},getRecommend(){Tt().then(t=>{this.recommendInfo=t.data.list})}}},zo=Ho,Jo=(s("8a6f"),s("1443"),Object(p["a"])(zo,Vs,Ys,!1,null,"72bf0870",null)),Ko=Jo.exports,Uo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"collect"}},[s("nav-bar",{scopedSlots:t._u([{key:"nav-left",fn:function(){return[s("van-icon",{attrs:{name:"arrow-left"},on:{click:t.backClick}})]},proxy:!0},{key:"nav-center",fn:function(){return[t._v("我的收藏")]},proxy:!0},{key:"nav-right",fn:function(){return[t.collectEmpty?t._e():s("span",{staticClass:"simple-manage-btn",style:{color:t.simpleManageStyle.color},on:{click:t.simpleManage}},[t._v(t._s(t.simpleManageStyle.text))])]},proxy:!0}])}),t.collectEmpty?s("simple-empty",{attrs:{"empty-title":"暂无收藏！","empty-msg":"您还没有收藏宝贝哦，去逛逛吧~"}}):s("div",{staticClass:"collect-container"},[s("simple-list",{staticClass:"collect-list",attrs:{"checked-color":"#ff4500","simple-list":t.collectList,"is-checkbox":t.isCheckbox,"btn-text":"找相似","is-foot-btn":""}}),s("collect-bottom-bar",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{"checked-color":"#ff4500"}})],1)],1)},qo=[],Vo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-submit-bar",{class:{opacity:0===t.checkedCount},attrs:{price:t.totalPrice,"button-text":t.submitBtn,"button-color":t.checkedColor,"text-align":"left"},on:{submit:t.onSubmit}},[s("div",{on:{click:t.checkedAllClick}},[s("van-checkbox",{attrs:{"checked-color":t.checkedColor},model:{value:t.checkedAll,callback:function(e){t.checkedAll=e},expression:"checkedAll"}},[t._v("全选")])],1)])},Yo=[],Xo={name:"CollectBottomBar",props:{checkedColor:String,checkedAll:Boolean},components:{[ls["a"].name]:ls["a"],[Xe["a"].name]:Xe["a"]},methods:{checkedAllClick(){this.cartList.forEach(t=>t.checked=!this.checkedAll)},onSubmit(){0===this.checkedCount?this.$toast({type:"fail",message:"您还未选中宝贝哦！",forbidClick:!0,duration:1500}):this.$toast({type:"fail",message:"暂未开通\n此功能",forbidClick:!0,duration:1500})}},computed:{...Object(ft["c"])(["cartList"]),checkedCount(){return this.cartList.filter(t=>t.checked).length},totalPrice(){return 100*this.cartList.filter(t=>t.checked).reduce((t,e)=>t+e.price*e.count,0)},submitBtn(){return`结算(${this.checkedCount})`}}},Qo=Xo,Zo=(s("5cb4"),Object(p["a"])(Qo,Vo,Yo,!1,null,"b8506f2c",null)),ta=Zo.exports,ea={name:"Collect",components:{NavBar:D,SimpleEmpty:Ke,SimpleList:ns,[Pt["a"].name]:Pt["a"],CollectBottomBar:ta},mixins:[ue,le],computed:{...Object(ft["c"])(["collectList","collectCount"]),collectEmpty(){return 0===this.collectCount}},methods:{...Object(ft["d"])(["setLocalCollect"])},beforeCreate(){this.$store.commit("setTabBarShow",!1)},created(){let t=JSON.parse(localStorage.getItem("collectList"));t&&this.setLocalCollect(t)},beforeRouteLeave(t,e,s){this.$store.commit("setTabBarShow",!0),s()}},sa=ea,oa=(s("0299"),Object(p["a"])(sa,Uo,qo,!1,null,"104e1bac",null)),aa=oa.exports;const ia=T["a"].prototype.push;T["a"].prototype.push=function(t){return ia.call(this,t).catch(t=>t)};const na=T["a"].prototype.replace;T["a"].prototype.replace=function(t){return na.call(this,t).catch(t=>t)},o["default"].use(T["a"]);const ra=[{path:"*",redirect:"/"},{path:"/",name:"home",component:me},{path:"/category",name:"category",component:Ne},{path:"/cart",name:"cart",component:bs},{path:"/profile",name:"profile",component:qs},{path:"/detail/:id",name:"detail",component:Ko},{path:"/collect",name:"collect",component:aa}],ca=new T["a"]({mode:"history",base:"/super",routes:ra});var la=ca;s("dfa4"),s("157a");o["default"].config.productionTip=!1,o["default"].use(a["a"],{loading:s("bc5e")}),o["default"].prototype.$bus=new o["default"],new o["default"]({router:la,store:wt,render:t=>t(B)}).$mount("#app")},"57cd":function(t,e,s){t.exports=s.p+"img/category.11368804.svg"},"5cb4":function(t,e,s){"use strict";var o=s("204d"),a=s.n(o);a.a},"5cbe":function(t,e,s){t.exports=s.p+"img/recommend_bg.794b6628.jpg"},"60ef":function(t,e,s){},6376:function(t,e,s){"use strict";var o=s("b969"),a=s.n(o);a.a},"66d9":function(t,e,s){"use strict";var o=s("8b35"),a=s.n(o);a.a},7032:function(t,e,s){"use strict";var o=s("b8af"),a=s.n(o);a.a},"7d86":function(t,e,s){},"81b0":function(t,e,s){},8256:function(t,e,s){"use strict";var o=s("28a8"),a=s.n(o);a.a},"829c":function(t,e,s){},8421:function(t,e,s){"use strict";var o=s("829c"),a=s.n(o);a.a},8556:function(t,e,s){"use strict";var o=s("4d14"),a=s.n(o);a.a},"85ec":function(t,e,s){},"86ac":function(t,e,s){"use strict";var o=s("9b5a"),a=s.n(o);a.a},"86c7":function(t,e,s){},"89a1":function(t,e,s){"use strict";var o=s("dfa8"),a=s.n(o);a.a},"8a6f":function(t,e,s){"use strict";var o=s("4668"),a=s.n(o);a.a},"8b35":function(t,e,s){},"8e37":function(t,e,s){},"935c":function(t,e,s){"use strict";var o=s("2f90"),a=s.n(o);a.a},9443:function(t,e,s){t.exports=s.p+"img/home.43fd8010.svg"},"952a":function(t,e,s){"use strict";var o=s("d4eb"),a=s.n(o);a.a},"9a3c":function(t,e,s){},"9b1f":function(t,e,s){"use strict";var o=s("9a3c"),a=s.n(o);a.a},"9b5a":function(t,e,s){},a269:function(t,e,s){},a5ef:function(t,e,s){t.exports=s.p+"img/category_active.e3dac1fb.svg"},aafd:function(t,e,s){},b239:function(t,e,s){"use strict";var o=s("efb4"),a=s.n(o);a.a},b419:function(t,e,s){"use strict";var o=s("60ef"),a=s.n(o);a.a},b508:function(t,e,s){t.exports=s.p+"img/home_active.74d1cc4d.svg"},b8af:function(t,e,s){},b91e:function(t,e,s){"use strict";var o=s("01ba"),a=s.n(o);a.a},b969:function(t,e,s){},bc5e:function(t,e,s){t.exports=s.p+"img/placeholder.48bcea0d.png"},c3f8:function(t,e,s){t.exports=s.p+"img/shopcart_active.3857810e.svg"},c8db:function(t,e,s){"use strict";var o=s("e100"),a=s.n(o);a.a},ccfe:function(t,e,s){"use strict";var o=s("a269"),a=s.n(o);a.a},d151:function(t,e,s){t.exports=s.p+"img/profile_active.3ba58f85.svg"},d4eb:function(t,e,s){},d5ff:function(t,e,s){},de9a:function(t,e,s){},dfa8:function(t,e,s){},e100:function(t,e,s){},e1ac:function(t,e,s){"use strict";var o=s("86c7"),a=s.n(o);a.a},e4ad:function(t,e,s){"use strict";var o=s("81b0"),a=s.n(o);a.a},e55d:function(t,e,s){t.exports=s.p+"img/profile.c2b75dfe.svg"},ea16:function(t,e,s){"use strict";var o=s("de9a"),a=s.n(o);a.a},efb4:function(t,e,s){},f0d2:function(t,e,s){"use strict";var o=s("aafd"),a=s.n(o);a.a},f5da:function(t,e,s){"use strict";var o=s("d5ff"),a=s.n(o);a.a},fece:function(t,e,s){"use strict";var o=s("3cbe"),a=s.n(o);a.a}});